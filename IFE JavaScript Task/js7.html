<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body>div{display: flex;align-items: flex-end;height:120px;}
        div>div{width:20px;line-height: 50px;text-align: center;float:left;margin:2px;}
    </style>
</head>
<body>
<input type="text"/>
<button onclick="unshift()">左侧入</button>
<button onclick="push()">右侧入</button>
<button onclick="shift()">左侧出</button>
<button onclick="pop()">右侧出</button>
<button onclick="paixu()">排序</button>
<button onclick="luan()">打乱</button>
<button onclick="suiji()">随机</button>
<div id="area"></div>
<script>
    var list=[];
    /*随机颜色*/
    function randomColor(){
        var color=(~~(Math.random()*(2<<23))).toString(16);
        for(var i= 0,len=6-color.length;i<len;i++){
            color="0"+color;
        }
        return "#"+color;
    }
    /*左进*/
    function unshift(){
        var area=document.getElementById('area');
        var val=document.getElementsByTagName('input')[0].value;
        if(val>=10&&val<=100){
            if(area.childElementCount<60){
                var div=document.createElement('div');
                div.style.height=val+"px";
                div.style.background=randomColor();
                div.setAttribute("onclick","delate(this)");
                area.insertBefore(div,area.firstElementChild);
            }else{
                console.log(area.childElementCount);
                alert("超过60个啦")
            }
        }else{
            alert("请重新输入（10-100）");
        }
    }
    /*右进*/
    function push(){
        var area=document.getElementById('area');
        var val=document.getElementsByTagName('input')[0].value;
        if(val>=10&&val<=100){
            if(area.childElementCount<60){
                var div=document.createElement('div');
                div.style.height=val+"px";
                div.style.background=randomColor();
                div.setAttribute("onclick","delate(this)");
                area.appendChild(div);
            }else{
                console.log(area.childElementCount);
                alert("超过60个啦")
            }
        }else{
            alert("请重新输入（10-100）");
        }
    }
    /*左出*/
    function shift(){
        var area=document.getElementById('area');
        if(area.childElementCount>0){
            var val=document.getElementsByTagName('input')[0].value;
            if(area.childElementCount>0){
                area.removeChild(area.firstElementChild);
            }else{
                alert("没的删了")
            }
        }else{
            alert("请输入值");
        }
    }
    /*右出*/
    function pop(){
        var area=document.getElementById('area');
        if(area.childElementCount>0){
            var val=document.getElementsByTagName('input')[0].value;
            if(area.childElementCount>0){
                area.removeChild(area.lastElementChild);
            }else{
                alert("没的删了")
            }
        }else{
            alert("请输入值");
        }
    }
    /*交换*/
    function swap(j){
        var h1=+area.childNodes[j].style.height.split("px")[0];//获取高度值，转化为数字类型，用来比较
        var h2=+area.childNodes[j+1].style.height.split("px")[0];
        if (h1>h2) {
            area.childNodes[j].style.height = area.childNodes[j + 1].style.height;
            area.childNodes[j + 1].style.height=h1+"px";
        }
    }
    /*所有按钮不可用*/
    function disabled(){
        var bt=document.getElementsByTagName('button');
        for(var k= 0,l=bt.length;k<l;k++){
            bt[k].disabled="disabled";
        }
    }
    /*按钮可用*/
    function enabled(){
        var bt=document.getElementsByTagName('button');
        for(var k= 0,l=bt.length;k<l;k++){
            bt[k].disabled="";
        }
    }
    /*可视化排序*/
    function paixu() {//每500毫秒，进行一次比较，同时也要有i和j的变化，不能有循环
        if (area.childElementCount > 0) {
            disabled();
            var time;/*
            for(var i= 0,len1=area.childElementCount-1;i<len1;i++){
                for(var j= 0,len2=len1-i;j<len2;j++){
                    time=setTimeout(swap(i,j),50);
                    clearTimeout(time);
                }
            }*/
            var i = 0, j = 0, len = area.childElementCount - 1;
            var int = setInterval(function () {//冒泡排序
                if (i == len) {
                    clearInterval(int);
                    enabled();
                }
                if (j == len - i) {
                    i++;
                    j = 0;
                }
                swap(j++);
            }, 50);
        }else{
            alert("请输入值");
        }
    }
    /*打乱，通过随机交换*/
    function luan(){
        for(var i= 0,len=area.childElementCount;i<len;i++){
            var ran=~~(Math.random()*len);
            area.childNodes[i].style.height=[area.childNodes[ran].style.height,area.childNodes[ran].style.height=area.childNodes[i].style.height][0];
        }
    }
    /*自删除*/
    function delate(ths){
        ths.parentNode.removeChild(ths);
    }
    /*随机出现许多个*/
    function suiji(){
        for(var i=0;i<10;i++){
            var ran=~~(Math.random()*100);
            var div=document.createElement('div');
            div.style.height=ran+"px";
            div.style.background=randomColor();
            div.setAttribute("onclick","delate(this)");
            area.appendChild(div);
        }
    }
</script>
</body>
</html>